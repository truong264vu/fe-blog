{"remainingRequest":"/home/ong-tru/Documents/MyBlog/fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ong-tru/Documents/MyBlog/fe/src/components/Post.vue?vue&type=style&index=0&id=0335f4d0&scoped=true&lang=css&","dependencies":[{"path":"/home/ong-tru/Documents/MyBlog/fe/src/components/Post.vue","mtime":1633938634028},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogI2F2YXRhciBpbWcgewogICAgIHdpZHRoOiA0MHB4OwogICAgIGhlaWdodDogNDBweDsKICAgICBtYXJnaW4tdG9wOiA4cHg7CiAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7CiB9CiNwb3N0IHsKIHBhZGRpbmc6IDIwMHB4IDBweDsKIHdpZHRoOiA2MCU7CiB0ZXh0LWFsaWduOiBsZWZ0OwogbWFyZ2luOiAwcHggYXV0bzsKIH0KIAogI3Bvc3QgPiAjbWFpbi1jb250ZW50IGgxIHsKICAgbWFyZ2luOiAzMHB4IDBweDsKIH0KICNwb3N0ID4gI21haW4tY29udGVudCBwIHsKICAgbWFyZ2luOiAzMHB4IDBweDsKIH0KCiAvKiBjb21tZW50IGlucHV0ICAqLwogLmNvbW1lbnQtaW5wdXQgPiBkaXYgewogICBkaXNwbGF5OiBmbGV4OwogfQogLmNvbW1lbnQtaW5wdXQgI2F2YXRhciB7CiAgIHdpZHRoOiA0MHB4OwogICBoZWlnaHQ6IDQwcHg7CiAgIG1hcmdpbjowcHggMTBweDsKICAgbWFyZ2luLXRvcDogLTEwcHg7CiB9CiAuY29tbWVudC1pbnB1dCB7CiAgIHBhZGRpbmctdG9wOiAzMHB4OwogICB3aWR0aDogMTAwJTsKICAgaGVpZ2h0OiAxNDBweDsKICAgYmFja2dyb3VuZDogcmdiKDI0MywgMjM2LCAyMzYpOwogICBib3R0b206IDBweDsKICAgbWFyZ2luOiAyMHB4IGF1dG87CiAgIGRpc3BsYXk6IG5vbmU7CiB9CiAjY2hpbGQtaW5wdXQgewogICB3aWR0aDogNjAwcHg7CiAgIG1hcmdpbjogMTBweCAwcHg7CiB9CgogLmNvbW1lbnQtaW5wdXQgZGl2IHRleHRhcmVhIHsKICAgaGVpZ2h0OiA0MHB4OwogICB3aWR0aDogODAlOwogICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsKICAgYm9yZGVyLXJhZGl1czogNHB4OwogICBwYWRkaW5nOiAwcHggMjBweDsKICAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgIG91dGxpbmU6IG5vbmU7CiB9CiAuY29tbWVudC1pbnB1dCAjb3BlcmF0aW9uIHsgCiAgICAgLyogcG9zaXRpb246IGFic29sdXRlOyAqLwogICAgIC8qIHJpZ2h0OiA0OyAqLwogICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgbWFyZ2luLWxlZnQ6IDYwJTsKIH0KIC5jb21tZW50LWlucHV0ICNvcGVyYXRpb24gYnV0dG9uIHsKCiAgIGJhY2tncm91bmQ6IHJnYig4NCwgODQsIDIwOSk7CiAgIGNvbG9yOiB3aGl0ZTsKICAgcGFkZGluZzogNHB4IDZweDsKICAgLyogd2lkdGg6IDIwMHB4OyAqLwogICBib3JkZXItcmFkaXVzOiA2cHg7CiAgIG1hcmdpbi1sZWZ0OjIwcHg7CiB9CiAjc2hvdy1jb21tZW50ICAgI3BhcmVudC1jb21tZW50IHsKICAgZGlzcGxheTogZmxleDsKICAgbWFyZ2luOiAyMHB4OwogfQogCiAjc2hvdy1jb21tZW50ICAjdXNlci1uYW1lIHsgIAogICAgIGNvbG9yOiBibGFjazsKICAgICBmb250LXdlaWdodDogNjAwOwogICAgIGZvbnQtc2l6ZTogMjBweDsKIH0KIC8qICNzaG93LWNvbW1lbnQgI2NoaWxkLWNvbW1lbnQgewogICBkaXNwbGF5OiBmbGV4OwogfSAqLwogI3Nob3ctY29tbWVudCAjY2hpbGQtY29tbWVudCAjYXZhdGFyLWNvbW1lbnQgewogICAgIGRpc3BsYXk6IGZsZXg7CiB9CiAjc2hvdy1jb21tZW50ICNjaGlsZC1jb21tZW50ICNhdmF0YXItY29tbWVudCBkaXY6bnRoLWNoaWxkKDIpIHsKICAgICBiYWNrZ3JvdW5kOiByZ2IoMjM1LCAyMzMsIDIzMSk7CiAgICAgcGFkZGluZzogMHB4IDEwcHg7CiAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKIH0KICNzaG93LWNvbW1lbnQgICNvcGVyYXRpb24tY29tbWVudCB7CiAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiB9CiAjc2hvdy1jb21tZW50ICNjaGlsZC1jb21tZW50ICNvcGVyYXRpb24tY29tbWVudCB7CiAgIG1hcmdpbi1sZWZ0OiA1MHB4OwogfQogI3Nob3ctY29tbWVudCAgI29wZXJhdGlvbi1jb21tZW50IGJ1dHRvbiB7CiAgIGNvbG9yOiByZ2IoMTAxLDEwMywxMDcpOwogICBib3JkZXI6IG5vbmU7CiAgIG1hcmdpbjogMHB4IDVweDsKICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgYmFja2dyb3VuZDogd2hpdGU7CiB9IAogLmhpZGUgewogICBkaXNwbGF5OiBub25lOyAKIH0gCiAub3BlbiB7CiAgIGRpc3BsYXk6IGJsb2NrOwogfQogI2NoZWNrLWxvZ2luIHsKICAgcGFkZGluZzogMnB4IDEwcHg7CiB9CiAuYWN0aXZlIHsKICAgY29sb3I6IGJsdWU7CiB9CgoKCiAKCg=="},{"version":3,"sources":["Post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Post.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div id=\"post\">\n  <div id=\"main-content\">\n        <h1 >{{Post.title}}</h1> \n        <p>{{Post.short_content}}</p>\n        <p v-html=\"Post.content\">{{Post.content}}</p>  \n  </div>\n\n\n    <!-- parent commnet -->\n  <div class=\"comment-input open\">\n      <div>\n            <div id=\"avatar\">\n                <img :src=\"avatar\" alt=\"\">\n            </div>\n            <textarea v-show=\"check_login !== null \"  placeholder=\"nhập nội dung ...\" v-model=\"comments.content\"></textarea>\n            <button id=\"check-login\" v-show=\"check_login == null \" @click=\"SIGNIN_TABLE()\">Đăng nhập để bình luận</button>\n      </div>\n      <div id=\"operation\" style=\"margin-left : 68%;\">\n            <button @click=\"reply = false\" v-show=\"check_login !== null\">cancel</button>\n            <button v-show=\"check_login !== null \" @click=\"add_parent_comment()\">bình luận</button> \n      </div>\n  </div>\n<!-- hien thi commment  -->\n  <div id=\"show-comment\">\n        <div>\n            <div v-for=\"comment in dataComment\" :key=\"comment.id\" id=\"parent-comment\">\n                  <div id=\"avatar\">\n                      <img :src=\"comment.user.avatar\" alt=\"\">\n                  </div>\n                  <div >\n                      <span id=\"user-name\">{{comment.user.name}}</span> \n                      <p>{{comment.content}}</p>\n                  <div id=\"operation-comment\">\n                    <button>Thích</button>\n                    <button @click=\"reply = comment.id \">Bình luận</button>\n                    <button @click=\"deleteCommnent(comment.id)\" :class=\"{hide : comment.user.name != name_account}\">Xóa</button> \n                    <button v-show=\"admin == 'admin'\" \n                            @click=\"deleteCommnent(comment.id)\"\n                            style=\"background:  rgb(84, 84, 209);\n                                                color: white;\n                                                padding: 4px 6px;\n                                                border-radius: 6px;\" \n                             >Admin Xóa</button>\n                  </div>\n                            <div id=\"child-comment\" v-for=\"child in comment.child_comment\" :key=\"child.id\" >\n                                      <div id=\"avatar-comment\">\n                                        <div id=\"avatar\">\n                                        <img :src=\"child.user.avatar\" alt=\"\">\n                                        </div>\n                                        <div>\n                                          <span id=\"user-name\">{{child.user.name}}</span>\n                                          <p>{{child.content}}</p>\n                                        </div>\n                                      </div>\n                                  <div id=\"operation-comment\">\n                                        <button @click=\"like = true\" v-show=\"like == false\">Thích </button>\n                                        <button @click=\"like = false\" v-show=\"like\" style=\"color: blue;\">Thích  </button>\n                                        <button @click=\"reply = comment.id\" >Bình luận</button>\n                                        <button @click=\"deleteCommnent(child.id)\" \n                                                      :class=\"{hide : child.user.name != name_account}\" \n                                                      >\n                                                      Xóa\n                                                      </button> \n                                        <button v-show=\"admin == 'admin'\" \n                                                @click=\"deleteCommnent(child.id)\"\n                                                style=\"background:  rgb(84, 84, 209);\n                                                                    color: white;\n                                                                    padding: 4px 6px;\n                                                                    border-radius: 6px;\" \n                                                >Admin Xóa</button>\n                                 </div> \n                            </div>\n                    <!-- child comment  -->\n                  <div id=\"child-input\" :class=\"{open : reply == comment.id }\" class=\"comment-input \" >\n                          <div  >\n                                <div id=\"avatar\">\n                                    <img :src=\"avatar\" alt=\"\">\n                                </div>\n                                <textarea  placeholder=\"nhập nội dung ...\" v-model=\"add_comment_child\" v-show=\"check_login !== null\"></textarea>\n                                <button v-show=\"check_login == null \" @click=\"SIGNIN_TABLE()\">Đăng nhập để bình luận</button>\n                          </div>\n                          <div id=\"operation\">\n                                <button @click=\"reply = false\" v-show=\"check_login !== null\">cancel</button>\n                                <button @click=\"add_child_comment(comment.id) \" id=\"check-Login\" v-show=\"check_login !== null\">bình luận</button> \n                          </div>\n                  </div>\n                  </div>\n            </div>\n        </div>\n  </div>\n</div>\n\n  \n</template>\n\n<script>\nimport { mapState , mapMutations} from 'vuex'\nimport network from '../core/network'\nimport _ from 'lodash';\n\n\nexport default {\n    data() {\n        return{\n          dataComment: '',\n          child_comment: [],\n          comments: {\n            content: '',\n            parent_id: '',\n            user_id: '',\n            post_id: []\n          },\n          add_comment_child: '',\n          name_account: '',\n          reply: '',\n          check_login: null,\n          avatar: '',\n          like: 0,\n          admin: ''\n        }\n    },\n\n    computed: mapState(['Post','login_register_table']),\n    created() {\n        this.get_comment();\n        this.comments.user_id = window.localStorage.getItem('id') ; // lay ten nguoi binh luan\n        this.name_account = window.localStorage.getItem('name'); // lay ten nguoi bl de check bl cua nguoi do , neu khac  => hide\n        this.check_login = window.localStorage.getItem('token');\n        this.avatar = window.localStorage.getItem('avatar'); // thay avatar cho input binh luan \n        this.admin = window.localStorage.getItem('role')\n    } ,\n    watch: {\n        dataComment: function(){ // cap nhat du lieu comment\n          this.get_comment();\n        }\n    },\n    methods: {\n        ...mapMutations(['SIGNIN_TABLE']),\n\n        get_comment: _.debounce(function(){\n          this.comments.post_id = this.Post.id;\n        network.get('getComment' , this.comments)\n        .then(response => {\n          this.dataComment = response.data;\n        });\n        },1000),\n\n        add_parent_comment:  function(){\n          // this.comments.parent_id = id;\n          network.post('comment' , this.comments)\n          .then(   () => {\n            this.comments.content = ''\n          })\n        },\n\n        add_child_comment:  function(id){ // Khong viet chung 1 ham tao comment => khong  bi trung v-model\n          this.comments.content = this.add_comment_child ;\n          this.comments.parent_id = id;\n          network.post('comment' , this.comments)\n          .then(   () => {\n            this.comments.content = ''\n            this.add_comment_child = ''\n          })\n        },\n        deleteCommnent(id){\n            network.delete('comment/' + id)\n            .then(() => {\n              this.dataComment = this.dataComment.filter(data => {\n              return data.id != id;\n            })\n            });\n            this.comments.parent_id = id;\n            network.post('destroyChildComment' , this.comments)\n            .then( () => {\n            })\n        },\n          //   goto(refName) {\n          //   var element = this.$refs[refName];\n          //   var top = element.offsetTop;\n\n          //   window.scrollTo(0, top);\n          // }\n    }\n}\n</script>\n\n<style scoped>\n        #avatar img {\n            width: 40px;\n            height: 40px;\n            margin-top: 8px;\n            margin-right: 8px;\n        }\n       #post {\n        padding: 200px 0px;\n        width: 60%;\n        text-align: left;\n        margin: 0px auto;\n        }\n        \n        #post > #main-content h1 {\n          margin: 30px 0px;\n        }\n        #post > #main-content p {\n          margin: 30px 0px;\n        }\n\n        /* comment input  */\n        .comment-input > div {\n          display: flex;\n        }\n        .comment-input #avatar {\n          width: 40px;\n          height: 40px;\n          margin:0px 10px;\n          margin-top: -10px;\n        }\n        .comment-input {\n          padding-top: 30px;\n          width: 100%;\n          height: 140px;\n          background: rgb(243, 236, 236);\n          bottom: 0px;\n          margin: 20px auto;\n          display: none;\n        }\n        #child-input {\n          width: 600px;\n          margin: 10px 0px;\n        }\n\n        .comment-input div textarea {\n          height: 40px;\n          width: 80%;\n          border: 1px solid black;\n          border-radius: 4px;\n          padding: 0px 20px;\n          line-height: 40px;\n          outline: none;\n        }\n        .comment-input #operation { \n            /* position: absolute; */\n            /* right: 4; */\n            margin-top: 20px;\n            margin-left: 60%;\n        }\n        .comment-input #operation button {\n\n          background: rgb(84, 84, 209);\n          color: white;\n          padding: 4px 6px;\n          /* width: 200px; */\n          border-radius: 6px;\n          margin-left:20px;\n        }\n        #show-comment   #parent-comment {\n          display: flex;\n          margin: 20px;\n        }\n        \n        #show-comment  #user-name {  \n            color: black;\n            font-weight: 600;\n            font-size: 20px;\n        }\n        /* #show-comment #child-comment {\n          display: flex;\n        } */\n        #show-comment #child-comment #avatar-comment {\n            display: flex;\n        }\n        #show-comment #child-comment #avatar-comment div:nth-child(2) {\n            background: rgb(235, 233, 231);\n            padding: 0px 10px;\n            border-radius: 10px;\n        }\n        #show-comment  #operation-comment {\n          margin-bottom: 20px;\n        }\n        #show-comment #child-comment #operation-comment {\n          margin-left: 50px;\n        }\n        #show-comment  #operation-comment button {\n          color: rgb(101,103,107);\n          border: none;\n          margin: 0px 5px;\n          font-weight: 600;\n          background: white;\n        } \n        .hide {\n          display: none; \n        } \n        .open {\n          display: block;\n        }\n        #check-login {\n          padding: 2px 10px;\n        }\n        .active {\n          color: blue;\n        }\n\n\n\n        \n\n</style>"]}]}