{"remainingRequest":"/home/ong-tru/Documents/MyBlog/fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ong-tru/Documents/MyBlog/fe/src/components/AdminPage.vue?vue&type=style&index=0&id=8d7db904&scoped=true&lang=css&","dependencies":[{"path":"/home/ong-tru/Documents/MyBlog/fe/src/components/AdminPage.vue","mtime":1633102093923},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ong-tru/Documents/MyBlog/fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojYWRtaW4gewogICAgcGFkZGluZzogMjAwcHggMHB4OwogICAgbWFyZ2luOiAwcHggYXV0bzsKICAgIHdpZHRoOiA2MCU7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgIAp9CgojYmFja2dyb3VuZC1vcGFjaXR5LW5vdGlmaWNhdGlvbiB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgb3BhY2l0eTogMzAlOwogICAgYmFja2dyb3VuZDogIzFFMUUxRTsKICAgIAp9CiN0YWJsZV9lZGl0ewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDB2aDsKICAgIG9wYWNpdHk6IDMwJTsKICAgIGJhY2tncm91bmQ6ICMxRTFFMUU7Cn0KI25vdGlmaWNhdGlvbiAgewogICAgaGVpZ2h0OiAyMDBweDsKICAgIHdpZHRoOiA3MDBweDsKICAgIGJhY2tncm91bmQ6ICNhODliOWI7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDUwJTsKICAgIGxlZnQ6IDUwJTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgYm9yZGVyOiA1cHggc29saWQgd2hlYXQ7Cn0KI2Zvcm0gewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDoxMDB2aDsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsKICBwb3NpdGlvbjogZml4ZWQ7CiAgdG9wOiA1MCU7CiAgbGVmdDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogIG92ZXJmbG93OiBzY3JvbGw7Cgp9CnRib2R5ICB0ciAgdGggICNjb250ZW50IHsKICB3aGl0ZS1zcGFjZTogbm93cmFwOyAKICB3aWR0aDogMTAwcHg7IAogIGhlaWdodDogNDBweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwoKfQp0Ym9keSA+ICB0ciAgdGh7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9CnRib2R5ICB0ciAgdGggICNjb250ZW50OjphZnRlciB7CiAgICBjb250ZW50OiAnLi4uJzsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMTJweDsKICAgIHJpZ2h0OiA1NXB4OwogICAgd2lkdGg6IDIwcHg7CiAgICBoZWlnaHQ6IDIwcHg7Cn0KCgo="},{"version":3,"sources":["AdminPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2PA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n \n  <div id=\"admin\">\n\n  <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n\n  <div id=\"navbar\">\n    <div>\n          <input type=\"text\">\n          <button>search</button>\n    </div>\n    <div>\n          <input type=\"submit\" value=\"them bai viet\"  @click =\" table = true, table_create = !table_edit\">\n    </div>\n  </div>\n\n\n\n  <table class=\"table table-striped \">\n        <thead>\n          <tr>\n            <th scope=\"col\">stt</th>\n            <th scope=\"col\">id</th>\n            <th scope=\"col\">title</th>\n            <th scope=\"col\">synopsis</th>\n            <th scope=\"col\">content</th>\n            <th scope=\"col\">category</th>\n            <th scope=\"col\">tags</th>\n            <th scope=\"col\">thao tac</th>\n            \n          </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"data in datas\" :key=\"data.id\">\n              <th>\n                <ol>\n                  <li>{{1}}</li>\n                </ol>\n              </th>\n              <th scope=\"row\">\n                  {{data.id}}\n              </th>\n              <th>\n                  {{data.title}}\n                  \n              </th>\n              <th>\n                  {{data.synopsis}}\n              </th>\n              <th >\n                  <p v-html=\"data.content\" id=\"content\">\n                    {{data.content}}\n                  </p>\n\n              </th>\n              <th >\n                <div v-for=\"category in data.categories\" :key=\"category.id\">\n                  {{category.name}}\n                </div>\n              </th>\n              <th >\n                <div v-for=\"tag in data.tags\" :key=\"tag.id\" scope=\"row\">\n                  <a href=\"#\">{{tag.name}}</a>\n                </div>\n              </th>\n              <th>\n                  <td @click=\"id_post = data.id , notification = true\" ><button>xoa</button></td>\n                  <td><button @click=\"id_post = data.id ,table = true, table_edit=true, editPost()\">Sua</button></td>\n              </th>\n            </tr>\n        </tbody>\n  </table>\n    <div  v-show=\"notification\" id=\"background-opacity-notification\">background-opacity-notification</div>\n    <div v-show=\"table_edit\" id=\"table_edit\">table_edit</div>\n    <div v-show=\"notification\" id=\"notification\">\n          <p>ban muon xoa bai viet co id la : {{id_post}} ?</p>\n          <button @click=\"deletePost(id_post)\">dung</button>\n          <button @click=\"notification = false\">khong</button>\n    </div>\n\n    <div>\n                    <button v-for=\"page in totalPage\" :key=\"page\" \n                    @click.prevent=\"currentPage = page \" \n                    >{{page}}</button> {{currentPage}}\n                  \n    </div>\n\n    <div id=\"form\" v-show=\"table\">\n        <div>\n          <h1 v-show=\"table_edit\">Chinh sua bai viet</h1>\n          <h1 v-show=\"table_create\">Them bai viet</h1>\n          <button @click=\"updatePost()\">luu thay doi</button>\n          <button @click=\"createPost()\">them bai viet</button>\n          <button @click=\"table = false , table_create= false , table_edit=false ,clearForm()\">dong</button>\n        </div>\n        <div>\n            <label for=\"title\">tieu de</label> <br>\n            <input type=\"text\" name=\"tieu de\" id=\"title\" v-model=\"post.title\">\n        </div>\n\n\n        <div>\n            <label for=\"synopsis\">tom tat noi dung</label> <br>\n            <input type=\"text\" name=\"synopsis\" id=\"synopsis\" v-model=\"post.synopsis\">\n        </div>\n\n        <div>\n            <label for=\"title\">thu muc</label><br>\n            <input type=\"text\" name=\"tieu de\" id=\"title\">\n        </div>\n\n        <div>\n            <label for=\"tag\">tags</label> <br>\n            <input type=\"text\" name=\"tag\" id=\"tag\">\n        </div> \n\n          <div>\n          <label for=\"content\">noi dung</label>\n          <vue-editor v-model=\"post.content\" name=\"content\" ></vue-editor>\n        </div>\n    </div>\n\n</div>\n</template>\n\n<script >\n\nimport { mapState } from 'vuex';\nimport network from '../core/network';\nimport { VueEditor } from \"vue2-editor\";\n// import network from '../core/network'\nexport default {\n    components: {\n    VueEditor\n  },\n    data(){\n        return {\n          post: {\n              content: \"\",\n              title: \"\",\n              synopsis: \"\",\n\n          },\n          table_edit: false,\n          table_create: false,\n          table:false,\n          notification: false,\n          id_post: '',\n          datas: [],\n            currentPage: 1,\n            totalPage: 0,\n        }\n    },\n    computed:mapState(['admin']),\n    mounted() {\n      this.getPageAdmin();\n      this.getData();\n    },\n    watch:{\n      data: function(){\n        this.getData();\n      },\n      currentPage: function(){\n        this.getData();\n      }\n    },\n\n    methods: {\n        getPageAdmin: function(){\n            let token = window.localStorage.getItem('token');\n            if(token !== null && this.admin == true ){\n            this.$router.push({name: 'admin_page'});\n            }\n            else{\n            this.$router.push({name: 'home'});\n\n            }\n\n      },\n      getData: function(){\n        network.get('admin?page=' + this.currentPage)\n        .then( response => {\n            this.datas = response.data.data;\n            this.totalPage = response.data.last_page;\n\n        })\n      },\n\n      deletePost: function(id){\n        network.delete('admin/' + id)\n        .then(() => {\n          this.datas = this.datas.filter(data => {\n            return data.id != id;\n          })\n        })\n        .catch( error => {\n          console.log(error)\n        })\n      },\n      createPost: function () {\n                 network.post('admin', this.post)\n                .then( () => {\n                     alert('dang bai thanh cong');\n                this.post = {\n                        title: '',\n                        synopsis: '',\n                        content: ''\n                    },\n                  location.reload();\n                })\n                .catch( error => {\n                    this.errors = error.response.data.errors;\n\n                })\n      },\n      editPost: function(){\n        network.get('admin/' + this.id_post + '/edit' )\n        .then( response => {\n          console.log(this.id_post)\n          this.post.title = response.data.title,\n          this.post.content = response.data.content,\n          this.post.synopsis = response.data.synopsis\n        })\n        .cacth( error => {\n            console.log(error);\n        })\n      },\n      updatePost: function() {\n            network.put('admin/' + this.id_post , this.post)\n                .then( () => {\n                  this.post.title = '',\n                  this.post.content = '',\n                  this.post.synopsis = '' \n                  location.reload();\n                })\n                .cacth( () => {\n                    console.log('a');\n                })\n      },\n        clearForm(){\n          this.post.title = '',\n          this.post.content = '',\n          this.post.synopsis= ''\n      }\n    }\n    \n\n}\n</script>\n<style scoped>\n    #admin {\n        padding: 200px 0px;\n        margin: 0px auto;\n        width: 60%;\n        text-align: center;\n       \n    }\n\n    #background-opacity-notification {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100vh;\n        opacity: 30%;\n        background: #1E1E1E;\n        \n    }\n    #table_edit{\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100vh;\n        opacity: 30%;\n        background: #1E1E1E;\n    }\n    #notification  {\n        height: 200px;\n        width: 700px;\n        background: #a89b9b;\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        color: white;\n        transform: translate(-50%, -50%);\n        border: 5px solid wheat;\n    }\n    #form {\n      width: 100%;\n      height:100vh;\n      background: white;\n      border: 1px solid black;\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      overflow: scroll;\n\n    }\n    tbody  tr  th  #content {\n      white-space: nowrap; \n      width: 100px; \n      height: 40px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n\n    }\n    tbody >  tr  th{\n      position: relative;\n    }\n    tbody  tr  th  #content::after {\n        content: '...';\n        position: absolute;\n        top: 12px;\n        right: 55px;\n        width: 20px;\n        height: 20px;\n    }\n\n\n</style>"]}]}